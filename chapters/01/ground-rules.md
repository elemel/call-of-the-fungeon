## Chapter 1: Ground Rules

You have entered a dungeon. You stand at the bottom of the staircase where you entered, facing east. A gnomish cartographer, carrying a bundle of scrolls, peers at you from an adjacent tile. As he moves onto the staircase, he thrusts a scroll into your hands. Before you can respond, he has already left the dungeon.

Unrolling the scroll, you identify it as a magic map. It ripples and shifts into a symbolic representation of the dungeon:

```
######][#####[###[#######][##########################]####]###]##########][##]##
#####[..[[[...[...[####][..[#[####################][#....].]#[....]###[....[#.]#
#####]....#.]...]..[###.].....###################]....[....[##.##]###[........[#
####[..[.....]...]..#]]...]#[.######]#[############.]##[]#.....[######[]#.][#..]
#####.]#[.#].#][]...[....]....[####]...]########]#]...]#.][[##.#########]...[[.#
#####.###.##.]....][....]##[...#]#[##].....]#]#[.]##.]#]....][<.]####]##...][..#
#####.][#.#[.##.[.[#..[]####.].....[....]#]#]....[[#.[....]...[..]##[.......].]#
#[......[....[]..[##[.###[...[##.[...#]....]]#[....[.#[#].[[.....[#]#.#].#.]...]
[..[...[].[...[]..[....]##[#]#[....]][##.#]#....[###.##[...[.[#[]][...[..].[#].#
#.]#.]..#]#.[][#]..[#].[#######..#]....].###.[#......[##.[##[###]...[.#..[[##[.#
#.##..].###[[....]..[...[####[...]]#[....]#]..][[##[......]####[........[###[..#
#..][.#.#####..#.#]...[[######[].[....[#.#]#[....[##[###]..][.......]]######]..#
#[.[....[##[]..[..]]..[.[####]##]#.#.#[].].....[##]######[..][#..[..#########.]#
[...[]#[.#[.#]..[.#]#]]..][#]...]#.[...]]..[]..]##.]#][###[...].[#..[#######]..]
#.[####]....[...].#...][.[.[..[..][].].....]#[]##].....[###.....][...[#####]...[
#...]###[#....].[...].##.]...[#[..]..[].#.]#####[..#[...[....[#.[#.[####[####].#
#[...]##][.[#.[[#[#.#....[[.[###[.##]#..[.#####[..][].#.#[#]#[#[#[[......[#[...#
##.[]##]...[#[#####.[[##..]..##[..........[#[.......[][.......[...#.###]..[..#]#
##........[########[####[....[##[]###]...........[####].##].....]...####]...]###
##[######################[###################[##]######]#######]###]#######]####
```

The directions on the map are right for east, down for south, left for west, and up for north.

You discover a contraption wrapped inside the map: a hypnotic timepiece. You slip it into a vest pocket, close to your heart. With every tick of the clockwork, you are compelled to move forward onto the next tile, turning only when instructed. Moving onto floor tiles (marked `.` on the map) has no particular effect.

The dungeon contains wall tiles: left-turners (marked `[`), right-turners (marked `]`), and halters (marked `#`). Whenever you would move onto a wall tile, stay in the adjacent tile and turn in place. For a left-turner, turn 90 degrees to the left. For a right-turner, turn 90 degrees to the right. For a halter, do not turn at all, in effect halting indefinitely.

As demonstrated by the gnome, you leave the dungeon by moving onto the staircase tile (marked `<`) from an adjacent tile. After how many ticks do you leave the dungeon?

From here, you can [continue to the answer](../../answers/chapters/01/ground-rules.md).


### Example

Consider an example dungeon:

```
#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########
```

The log below shows you moving through the example dungeon, with your location marked `@` on the map. The status line uses the labels `Dx` for direction, `Co` for coordinates, and `TC` for tick count. Coordinates are shown as `(x, y)`.

```
#############[####]#
#]#[..........#]##.]
[.......@]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (8, 2)  TC: 0

---

#############[####]#
#]#[..........#]##.]
[.......@]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (8, 2)  TC: 1

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: South  Co: (8, 3)  TC: 2

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: West  Co: (8, 3)  TC: 3

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.@........[#]#
#]##]#[#]###########

Dx: West  Co: (7, 3)  TC: 4

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: West  Co: (6, 3)  TC: 5

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: South  Co: (6, 3)  TC: 6

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: East  Co: (6, 3)  TC: 7

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.@........[#]#
#]##]#[#]###########

Dx: East  Co: (7, 3)  TC: 8

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: East  Co: (8, 3)  TC: 9

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[...@......[#]#
#]##]#[#]###########

Dx: East  Co: (9, 3)  TC: 10

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[....@.....[#]#
#]##]#[#]###########

Dx: East  Co: (10, 3)  TC: 11

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.....@....[#]#
#]##]#[#]###########

Dx: East  Co: (11, 3)  TC: 12

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[......@...[#]#
#]##]#[#]###########

Dx: East  Co: (12, 3)  TC: 13

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.......@..[#]#
#]##]#[#]###########

Dx: East  Co: (13, 3)  TC: 14

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[........@.[#]#
#]##]#[#]###########

Dx: East  Co: (14, 3)  TC: 15

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.........@[#]#
#]##]#[#]###########

Dx: East  Co: (15, 3)  TC: 16

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.........@[#]#
#]##]#[#]###########

Dx: North  Co: (15, 3)  TC: 17

---

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (15, 2)  TC: 18

---

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (15, 2)  TC: 19

---

#############[####]#
#]#[..........#]##.]
[.......<]##]...@..[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (16, 2)  TC: 20

---

#############[####]#
#]#[..........#]##.]
[.......<]##]....@.[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (17, 2)  TC: 21

---

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (18, 2)  TC: 22

---

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (18, 2)  TC: 23

---

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (18, 1)  TC: 24

---

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (18, 1)  TC: 25

---

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (18, 1)  TC: 26

---

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (18, 2)  TC: 27

---

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (18, 2)  TC: 28

---

#############[####]#
#]#[..........#]##.]
[.......<]##]....@.[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (17, 2)  TC: 29

---

#############[####]#
#]#[..........#]##.]
[.......<]##]...@..[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (16, 2)  TC: 30

---

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (15, 2)  TC: 31

---

#############[####]#
#]#[..........#]##.]
[.......<]##].@....[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (14, 2)  TC: 32

---

#############[####]#
#]#[..........#]##.]
[.......<]##]@.....[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (13, 2)  TC: 33

---

#############[####]#
#]#[..........#]##.]
[.......<]##]@.....[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (13, 2)  TC: 34

---

#############[####]#
#]#[.........@#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (13, 1)  TC: 35

---

#############[####]#
#]#[.........@#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (13, 1)  TC: 36

---

#############[####]#
#]#[........@.#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (12, 1)  TC: 37

---

#############[####]#
#]#[.......@..#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (11, 1)  TC: 38

---

#############[####]#
#]#[......@...#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (10, 1)  TC: 39

---

#############[####]#
#]#[.....@....#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (9, 1)  TC: 40

---

#############[####]#
#]#[....@.....#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (8, 1)  TC: 41

---

#############[####]#
#]#[...@......#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (7, 1)  TC: 42

---

#############[####]#
#]#[..@.......#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (6, 1)  TC: 43

---

#############[####]#
#]#[.@........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (5, 1)  TC: 44

---

#############[####]#
#]#[@.........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (4, 1)  TC: 45

---

#############[####]#
#]#[@.........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 1)  TC: 46

---

#############[####]#
#]#[..........#]##.]
[...@...<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 2)  TC: 47

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].].@[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 3)  TC: 48

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].].@[..........[#]#
#]##]#[#]###########

Dx: West  Co: (4, 3)  TC: 49

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]@.[..........[#]#
#]##]#[#]###########

Dx: West  Co: (3, 3)  TC: 50

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]@.[..........[#]#
#]##]#[#]###########

Dx: North  Co: (3, 3)  TC: 51

---

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (3, 2)  TC: 52

---

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (3, 2)  TC: 53

---

#############[####]#
#]#[..........#]##.]
[.@.....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (2, 2)  TC: 54

---

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (1, 2)  TC: 55

---

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (1, 2)  TC: 56

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (1, 3)  TC: 57

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (1, 3)  TC: 58

---

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (1, 3)  TC: 59

---

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (1, 2)  TC: 60

---

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (1, 2)  TC: 61

---

#############[####]#
#]#[..........#]##.]
[.@.....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (2, 2)  TC: 62

---

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (3, 2)  TC: 63

---

#############[####]#
#]#[..........#]##.]
[...@...<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (4, 2)  TC: 64

---

#############[####]#
#]#[..........#]##.]
[....@..<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (5, 2)  TC: 65

---

#############[####]#
#]#[..........#]##.]
[.....@.<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (6, 2)  TC: 66

---

#############[####]#
#]#[..........#]##.]
[......@<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (7, 2)  TC: 67

---

TC: 68
```

You leave the example dungeon after 68 ticks.
