## Chapter 1: Ground Rules

You have entered a dungeon. You stand at the bottom of the staircase where you entered, facing east. A gnomish cartographer, carrying a bundle of scrolls, peers at you from nearby. As he moves to the staircase, he thrusts a scroll into your hands. Before you can respond, he has already left the dungeon.

Unrolling the scroll, you identify it as a magic map. It ripples and shifts into a symbolic representation of the dungeon:

```
######][#####[###[#######][##########################]####]###]##########][##]##
#####[..[[[...[...[####][..[#[####################][#....].]#[....]###[....[#.]#
#####]....#.]...]..[###.].....###################]....[....[##.##]###[........[#
####[..[.....]...]..#]]...]#[.######]#[############.]##[]#.....[######[]#.][#..]
#####.]#[.#].#][]...[....]....[####]...]########]#]...]#.][[##.#########]...[[.#
#####.###.##.]....][....]##[...#]#[##].....]#]#[.]##.]#]....][<.]####]##...][..#
#####.][#.#[.##.[.[#..[]####.].....[....]#]#]....[[#.[....]...[..]##[.......].]#
#[......[....[]..[##[.###[...[##.[...#]....]]#[....[.#[#].[[.....[#]#.#].#.]...]
[..[...[].[...[]..[....]##[#]#[....]][##.#]#....[###.##[...[.[#[]][...[..].[#].#
#.]#.]..#]#.[][#]..[#].[#######..#]....].###.[#......[##.[##[###]...[.#..[[##[.#
#.##..].###[[....]..[...[####[...]]#[....]#]..][[##[......]####[........[###[..#
#..][.#.#####..#.#]...[[######[].[....[#.#]#[....[##[###]..][.......]]######]..#
#[.[....[##[]..[..]]..[.[####]##]#.#.#[].].....[##]######[..][#..[..#########.]#
[...[]#[.#[.#]..[.#]#]]..][#]...]#.[...]]..[]..]##.]#][###[...].[#..[#######]..]
#.[####]....[...].#...][.[.[..[..][].].....]#[]##].....[###.....][...[#####]...[
#...]###[#....].[...].##.]...[#[..]..[].#.]#####[..#[...[....[#.[#.[####[####].#
#[...]##][.[#.[[#[#.#....[[.[###[.##]#..[.#####[..][].#.#[#]#[#[#[[......[#[...#
##.[]##]...[#[#####.[[##..]..##[..........[#[.......[][.......[...#.###]..[..#]#
##........[########[####[....[##[]###]...........[####].##].....]...####]...]###
##[######################[###################[##]######]#######]###]#######]####
```

The dungeon is arranged as a grid of tiles. The directions on the map are right for east, down for south, left for west, and up for north.

You discover a contraption wrapped inside the map: a hypnotic timepiece. You slip it into a vest pocket, close to your heart. With every tick of the clockwork, you are compelled to move forward to the next tile and trigger its effect. You trigger only one tile per tick. If triggering a tile causes you to move again during the same tick, no further tile is triggered by the additional move. Triggering a floor tile (marked `.` on the map) has no effect.

The dungeon contains wall tiles: left-turners (marked `[`), right-turners (marked `]`), and halters (marked `#`). Wall tiles stop you from moving forward, but you still trigger them from the adjacent tile. For a left-turner tile, turn 90 degrees to the left. For a right-turner tile, turn 90 degrees to the right. For a halter tile, do not turn at all, effectively halting forever.

As demonstrated by the gnome, you leave the dungeon by triggering the staircase tile (marked `<`). After how many ticks do you leave the dungeon?

From here, you can [continue to the answer](../../answers/chapters/01/ground-rules.md).


### Example

Consider an example dungeon:

```
#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########
```

The log below shows you moving through the example dungeon, with your location marked `@` on the map. The status line uses the labels `Dx` for direction, `Co` for coordinates, and `TC` for tick count. Coordinates are shown as `(x, y)`.

```
#############[####]#
#]#[..........#]##.]
[.......@]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (8, 2)  TC: 0

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......@]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (8, 2)  TC: 1

---

You go south.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: South  Co: (8, 3)  TC: 2

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: West  Co: (8, 3)  TC: 3

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.@........[#]#
#]##]#[#]###########

Dx: West  Co: (7, 3)  TC: 4

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: West  Co: (6, 3)  TC: 5

---

You turn left.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: South  Co: (6, 3)  TC: 6

---

You turn left.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[@.........[#]#
#]##]#[#]###########

Dx: East  Co: (6, 3)  TC: 7

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.@........[#]#
#]##]#[#]###########

Dx: East  Co: (7, 3)  TC: 8

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[..@.......[#]#
#]##]#[#]###########

Dx: East  Co: (8, 3)  TC: 9

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[...@......[#]#
#]##]#[#]###########

Dx: East  Co: (9, 3)  TC: 10

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[....@.....[#]#
#]##]#[#]###########

Dx: East  Co: (10, 3)  TC: 11

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.....@....[#]#
#]##]#[#]###########

Dx: East  Co: (11, 3)  TC: 12

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[......@...[#]#
#]##]#[#]###########

Dx: East  Co: (12, 3)  TC: 13

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.......@..[#]#
#]##]#[#]###########

Dx: East  Co: (13, 3)  TC: 14

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[........@.[#]#
#]##]#[#]###########

Dx: East  Co: (14, 3)  TC: 15

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.........@[#]#
#]##]#[#]###########

Dx: East  Co: (15, 3)  TC: 16

---

You turn left.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]..[.........@[#]#
#]##]#[#]###########

Dx: North  Co: (15, 3)  TC: 17

---

You go north.

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (15, 2)  TC: 18

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (15, 2)  TC: 19

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]...@..[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (16, 2)  TC: 20

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##]....@.[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (17, 2)  TC: 21

---

You go east.

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (18, 2)  TC: 22

---

You turn left.

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (18, 2)  TC: 23

---

You go north.

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (18, 1)  TC: 24

---

You turn right.

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (18, 1)  TC: 25

---

You turn right.

#############[####]#
#]#[..........#]##@]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (18, 1)  TC: 26

---

You go south.

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (18, 2)  TC: 27

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##].....@[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (18, 2)  TC: 28

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]....@.[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (17, 2)  TC: 29

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]...@..[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (16, 2)  TC: 30

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]..@...[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (15, 2)  TC: 31

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##].@....[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (14, 2)  TC: 32

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]@.....[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (13, 2)  TC: 33

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]@.....[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (13, 2)  TC: 34

---

You go north.

#############[####]#
#]#[.........@#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (13, 1)  TC: 35

---

You turn left.

#############[####]#
#]#[.........@#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (13, 1)  TC: 36

---

You go west.

#############[####]#
#]#[........@.#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (12, 1)  TC: 37

---

You go west.

#############[####]#
#]#[.......@..#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (11, 1)  TC: 38

---

You go west.

#############[####]#
#]#[......@...#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (10, 1)  TC: 39

---

You go west.

#############[####]#
#]#[.....@....#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (9, 1)  TC: 40

---

You go west.

#############[####]#
#]#[....@.....#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (8, 1)  TC: 41

---

You go west.

#############[####]#
#]#[...@......#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (7, 1)  TC: 42

---

You go west.

#############[####]#
#]#[..@.......#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (6, 1)  TC: 43

---

You go west.

#############[####]#
#]#[.@........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (5, 1)  TC: 44

---

You go west.

#############[####]#
#]#[@.........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (4, 1)  TC: 45

---

You turn left.

#############[####]#
#]#[@.........#]##.]
[.......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 1)  TC: 46

---

You go south.

#############[####]#
#]#[..........#]##.]
[...@...<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 2)  TC: 47

---

You go south.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].].@[..........[#]#
#]##]#[#]###########

Dx: South  Co: (4, 3)  TC: 48

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].].@[..........[#]#
#]##]#[#]###########

Dx: West  Co: (4, 3)  TC: 49

---

You go west.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]@.[..........[#]#
#]##]#[#]###########

Dx: West  Co: (3, 3)  TC: 50

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
].]@.[..........[#]#
#]##]#[#]###########

Dx: North  Co: (3, 3)  TC: 51

---

You go north.

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (3, 2)  TC: 52

---

You turn left.

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (3, 2)  TC: 53

---

You go west.

#############[####]#
#]#[..........#]##.]
[.@.....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (2, 2)  TC: 54

---

You go west.

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (1, 2)  TC: 55

---

You turn left.

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (1, 2)  TC: 56

---

You go south.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: South  Co: (1, 3)  TC: 57

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: West  Co: (1, 3)  TC: 58

---

You turn right.

#############[####]#
#]#[..........#]##.]
[.......<]##]......[
]@]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (1, 3)  TC: 59

---

You go north.

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: North  Co: (1, 2)  TC: 60

---

You turn right.

#############[####]#
#]#[..........#]##.]
[@......<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (1, 2)  TC: 61

---

You go east.

#############[####]#
#]#[..........#]##.]
[.@.....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (2, 2)  TC: 62

---

You go east.

#############[####]#
#]#[..........#]##.]
[..@....<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (3, 2)  TC: 63

---

You go east.

#############[####]#
#]#[..........#]##.]
[...@...<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (4, 2)  TC: 64

---

You go east.

#############[####]#
#]#[..........#]##.]
[....@..<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (5, 2)  TC: 65

---

You go east.

#############[####]#
#]#[..........#]##.]
[.....@.<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (6, 2)  TC: 66

---

You go east.

#############[####]#
#]#[..........#]##.]
[......@<]##]......[
].]..[..........[#]#
#]##]#[#]###########

Dx: East  Co: (7, 2)  TC: 67

---

You go upstairs.

TC: 68
```

You leave the example dungeon after 68 ticks.
